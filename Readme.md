# Разворачивание инфраструктуры

### terraform - разворачивание необходимой инфраструктуры в YC
- на текущей момент разворачивается k8s, ingress, jenkins
- Для деплоя кластера и jenkins-а в корне запустить run.sh
- Для удаления всего stop.sh
- На текущий момент при запуске jenkins - следовать его инструкциям по донастройке
- Ingress удаляется долго, обратить внимание на зависимость модуля ingress от node_groups - иначе удаление происходит криво, ноды умирают раньше чем ingress
- Набор yml переработан/обновлен и основан на https://github.com/claustrophobia-com/yandex-cloud-kubernetes

### todo

- добавить разворачивание prometheus, grafana в terraform (или еще как-то :))
- попробовать автоматизироть преднастройку jenkins или вывод или задание админского пароля
- опционально добавить в jenkins kubernetes agent
- опционально подчистить код из claustrophobia
- актуализировать описание